<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="./images/logo.svg" type="image/x-icon">
    <title>Vectors ATV | Premium All-Terrain Vehicles</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="./output.css" rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Allerta+Stencil&family=Open+Sans:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- HTML2PDF for Chatbot -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

</head>
<!-- reconnaissance -->

<body>
    <!-- Header/Navigation -->
    <header class="header">
        <div class="container">
            <nav class="navbar">
                <a href="#logo" class="logo">
                    <span class="logo-text">VECTORS MOTORS & CO.</span>
                    <span class="logo-tagline">ALL-TERRAIN SOLUTIONS</span>
                </a>
                <ul class="nav-links">
                    <li><a href="#home" class="nav-link active">HOME</a></li>
                    <li><a href="#sectors" class="nav-link" id="products-toggle">SECTORS</a></li>
                    <li><a href="#technology" class="nav-link">TECHNOLOGY</a></li>
                    <li><a href="#aboutus" class="nav-link">ABOUT US</a></li>
                    <li><a href="#3d" class="nav-link" id="open3D">
                            <i class="fas fa-cube flex"></i> 3D VIEW
                        </a></li>
                </ul>
                <div class="mobile-menu-btn">
                    <i class="fas fa-bars" id="white"></i>
                </div>
            </nav>
        </div>
    </header>

    <!-- Products Toggle Section (Hidden by default) -->
    <section class="products-toggle-section" id="products-section">
        <div class="container">
            <div class="toggle-header">
                <h2 class="section-title">OUR SECTORS</h2>
                <p class="section-subtitle">Tailored solutions for every industry need</p>
                <button class="close-toggle" id="close-products">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <div class="categories-grid">
                <div class="category-card" data-category="agriculture">
                    <div class="category-image">
                        <div class="rec-images">
                            <img src="https://tse4.mm.bing.net/th/id/OIP.rDEPq_KRnTXgwP7HohnCNgHaE7?cb=ucfimg2&ucfimg=1&rs=1&pid=ImgDetMain&o=7&rm=3"
                                alt="Race">
                        </div>
                        <div class="category-overlay"></div>
                    </div>
                    <div class="category-info">
                        <h3 class="category-title">RECREATION & ADVENTURE</h3>
                        <p class="category-description">Robust vehicles for adventure, sports, and dessert safari.</p>
                        <a href="https://vectorsmotors.netlify.app/Sectors/adventure.html"
                            class="btn btn-outline category-btn">EXPLORE SOLUTIONS</a>
                    </div>
                </div>

                <div class="category-card" data-category="tourist">
                    <div class="category-image">
                        <img src="https://images.pexels.com/photos/14823611/pexels-photo-14823611.jpeg?cs=srgb&dl=pexels-pok-rie-33563-14823611.jpg&fm=jpg"
                            alt="Tourism">
                        <div class="category-overlay"></div>
                    </div>
                    <div class="category-info">
                        <h3 class="category-title">DISASTER MANAGMENT</h3>
                        <p class="category-description">Robust vehicles for disaster management and emergency response.
                        </p>
                        <a href="https://vectorsmotors.netlify.app/Sectors/disaster.html"
                            class="btn btn-outline category-btn">EXPLORE SOLUTIONS</a>
                    </div>
                </div>


                <div class="category-card" data-category="construction">
                    <div class="category-image">
                        <img src="https://images.unsplash.com/photo-1541888946425-d81bb19240f5?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80"
                            alt="Construction">
                        <div class="category-overlay"></div>
                    </div>
                    <div class="category-info">
                        <h3 class="category-title">CONSTRUCTION & MINING</h3>
                        <p class="category-description">Heavy-duty vehicles for construction sites, material transport,
                            and rough terrain work.</p>
                        <a href="https://vectorsmotors.netlify.app/Sectors/mining.html"
                            class="btn btn-outline category-btn">EXPLORE SOLUTIONS</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Hero Section -->

    <section class="hero">
        <!-- background video -->
        <video class="hero-video" autoplay muted loop playsinline>
            <source src="./images/FInal_Video.webm" type="video/webm">
        </video>

        <!-- black overlay -->
        <div class="hero-overlay"></div>

        <!-- content -->
        <div class="hero-image">
            <div class="container">
                <div class="hero-content">
                    <div class="title flex align-items-center gap-25">
                        <h1 class="hero-title flex align-items-center">CONQUER EVERY TERRAIN</h1>
                        <div class="arrows">
                            <span class="arrow"></span>
                            <span class="arrow"></span>
                            <span class="arrow"></span>
                        </div>
                    </div>
                    <p class="hero-subtitle">
                        Vectors designs and manufactures premium all-terrain vehicles built for
                        extreme performance, reliability, and intelligent fleet management.
                    </p>
                    <div class="hero-divider"></div>
                    <div class="access-platform">
                        <h3 class="platform-title">ACCESS PLATFORM</h3>
                        <a href="#" class="btn btn-primary" id="viewProductsBtn">
                            <i class="fas fa-eye"></i> VIEW PRODUCTS
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features">
        <div class="container">
            <h2 class="section-title">BUILT FOR EXTREME CONDITIONS</h2>
            <p class="section-subtitle">Our vehicles are engineered to excel where others fail</p>

            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-mountain"></i>
                    </div>
                    <h3 class="feature-title">EXTREME PERFORMANCE</h3>
                    <p class="feature-description">Powerful engines and advanced suspension systems for tackling the
                        toughest terrains.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3 class="feature-title">MAXIMUM RELIABILITY</h3>
                    <p class="feature-description">Built with durable components and rigorous testing to ensure optimal
                        performance in any condition.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Products Preview -->
    <section class="products" id="technology">
        <div class="container">
            <h2 class="section-title">WATCH THE ULTIMATE TEST OF OUR VEHICLE</h2>
            <p class="section-subtitle">Choose from our range of premium all-terrain vehicles</p>
            <!-- <iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/e1ijbyxJu48?si=wyfAdkgTO1kC-qoH" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" class="test-video" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe> -->
            <div class="test-arrow">
                <div class="arrows">
                    <span class="arrow"></span>
                    <span class="arrow"></span>
                    <span class="arrow"></span>
                </div>
                <video src="./images/videoplayback.webm" class="test-video" type="video/webm" controls></video>
                <div class="anti-arrows">
                    <span class="anti-arrow"></span>
                    <span class="anti-arrow"></span>
                    <span class="anti-arrow"></span>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <a href="#" class="logo">
                        <span class="logo-text">VECTORS MOTORS & CO</span>
                        <span class="logo-tagline">ALL-TERRAIN SOLUTIONS</span>
                    </a>
                    <p class="footer-description">Designing and manufacturing premium all-terrain vehicles since 2025.
                    </p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                <div class="footer-nav">
                    <h4 class="footer-title">Quick Links</h4>
                    <ul class="footer-links-list">
                        <li><a href="#home">Home</a></li>
                        <li><a href="#sectors">Sectors</a></li>
                        <li><a href="#technology">Technology</a></li>
                        <li><a href="#aboutus">About Us</a></li>
                        <li><a href="#3d" id="open3D-footer">
                                </i> 3D View
                            </a></li>
                    </ul>
                </div>
                <div>
                    <h1 class="footer-title"><i class="fas fa-phone-alt"></i> CONTACT US</h1>
                    <div class="contact-info">
                        <p>Phone: +91 98765 43210<br>
                            Email: info@vectorsmotors.com</p>
                    </div>
                </div>
                <div class="footer-end">
                    <iframe class="responsive-map"
                        src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d3820.9118816656064!2d74.240347!3d16.731248!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bc1008d2532b153%3A0xa154d05f5c9250ae!2sD.%20Y.%20Patil%20College%20Of%20Engineering%20%26%20Technology!5e0!3m2!1sen!2sus!4v1769239694336!5m2!1sen!2sus"
                        allowfullscreen loading="lazy" referrerpolicy="no-referrer-when-downgrade">
                    </iframe>
                    <img src="./images/Baja Atv.webp" alt="">
                </div>
            </div>

            <div class="footer-bottom">
                <p>&copy; 2025 VECTORS ALL-TERRAIN VEHICLES. ALL RIGHTS RESERVED.</p>
                <div class="footer-legal">
                    <a href="#">PRIVACY POLICY</a>
                    <a href="#">TERMS OF SERVICE</a>
                    <a href="#">COOKIE POLICY</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Booking Chatbot Toggle Button -->
    <div class="chatbot-toggle" id="chatbotToggle">
        <i class="fa-solid fa-car"></i>
    </div>

    <!-- Booking Chatbot Container -->
    <div class="chatbot-container" id="chatbotContainer">
        <div class="chatbot-header">
            <h3><i class="fas fa-car-alt"></i> VECTOR'S ASSISTANCE</h3>
            <button class="close-chatbot" id="closeChatbot">&times;</button>
        </div>

        <div class="chatbot-body">
            <div class="chat-messages" id="bookingMessages">
                <!-- Messages will be inserted here -->
            </div>

            <div class="typing-indicator" id="bookingTyping">
                <div class="typing-dots">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <span>Processing...</span>
            </div>

            <div class="chat-input" id="bookingInput">
                <!-- Input/buttons will be inserted here -->
            </div>

            <div class="status-bar">
                <div class="status-item">
                    <i class="fas fa-user"></i>
                    <span>Name: <span id="statusName">Not Started</span></span>
                </div>
                <div class="status-item">
                    <i class="fas fa-wrench"></i>
                    <span>Service: <span id="statusService">No Service</span></span>
                </div>
                <div class="status-item">
                    <i class="fas fa-calendar"></i>
                    <span>Date: <span id="statusDate">No Date</span></span>
                </div>
            </div>

            <div class="quick-actions">
                <button class="quick-btn" onclick="openTestDrive()">
                    <i class="fas fa-car"></i> Test Drive
                </button>
                <button class="quick-btn" id="quickHelp">
                    <i class="fas fa-phone"></i> Emergency
                </button>
                <button class="quick-btn" id="quickBrochure">
                    <i class="fas fa-file-pdf"></i> Brochure
                </button>
            </div>
        </div>
    </div>

    <!-- PDF Modal -->
    <div class="modal" id="pdfModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-file-pdf"></i> Service Report</h3>
                <button class="close-chatbot" id="closeModal">&times;</button>
            </div>
            <div class="modal-body" id="pdfContent">
                <!-- PDF content will be inserted here -->
            </div>
            <div class="modal-footer">
                <button class="submit-btn" id="downloadPDF">
                    <i class="fas fa-download"></i> Download PDF
                </button>
            </div>
        </div>
    </div>
    <!-- ==================== 3D MODEL MODAL ==================== -->
    <div class="model-slide" id="modelSlide">
        <div class="model-slide-header">
            <h2><i class="fas fa-cube"></i> ATV 3D Model</h2>
            <button class="close-model" id="closeModel">&times;</button>
        </div>
        <div class="model-viewer-container">
            <!-- 3D model will be loaded here -->
            <model-viewer src="./images/Old.glb" alt="Vectors ATV 3D Model" camera-controls auto-rotate ar
                shadow-intensity="1" exposure="1" style="width:100%; height:100%; background:#ffffff;">
            </model-viewer>

            <div class="model-controls">
                <button class="model-control-btn" onclick="toggleFullscreen()">
                    <i class="fas fa-expand"></i>
                </button>
            </div>
            <div class="model-info">
                <h3><i class="fas fa-info-circle"></i> Vectors ATV Model X</h3>
                <p><strong>Engine:</strong> HONDA GX 430 4 Stroke Engine</p>
                <p><strong>Suspension:</strong> AFCO Pneumatic Suspension</p>
                <p><strong>Load Capacity:</strong> 250kg</p>
            </div>
        </div>
    </div>

    <!-- Load model-viewer library -->
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <script src="app.js"></script>

    <script>
        // Chatbot Integration
        document.addEventListener('DOMContentLoaded', function () {
            // Initialize chatbot UI
            initChatbotUI();

            // Start booking system
            setTimeout(() => {
                startBookingSystem();
            }, 1000);

            // Show notification badge after 5 seconds
            setTimeout(() => {
                const badge = document.getElementById('chatbotBadge');
                const chatbotContainer = document.getElementById('chatbotContainer');
                if (badge && !chatbotContainer.classList.contains('active')) {
                    badge.style.display = 'flex';
                }
            }, 5000);
        });

        function initChatbotUI() {
            const chatbotToggle = document.getElementById('chatbotToggle');
            const chatbotContainer = document.getElementById('chatbotContainer');
            const closeChatbot = document.getElementById('closeChatbot');
            const badge = document.getElementById('chatbotBadge');

            // Toggle chatbot
            if (chatbotToggle) {
                chatbotToggle.addEventListener('click', function () {
                    chatbotContainer.classList.add('active');
                    // Hide badge when opened
                    if (badge) {
                        badge.style.display = 'none';
                    }
                });
            }

            // Close chatbot
            if (closeChatbot) {
                closeChatbot.addEventListener('click', function () {
                    chatbotContainer.classList.remove('active');
                });
            }

            // Close modal
            const closeModal = document.getElementById('closeModal');
            const pdfModal = document.getElementById('pdfModal');

            if (closeModal) {
                closeModal.addEventListener('click', function () {
                    pdfModal.classList.remove('active');
                });
            }

            // Close modal when clicking outside
            if (pdfModal) {
                pdfModal.addEventListener('click', function (e) {
                    if (e.target === this) {
                        this.classList.remove('active');
                    }
                });
            }

            // Set up quick actions
            const quickBook = document.getElementById('quickBook');
            const quickHelp = document.getElementById('quickHelp');
            const quickBrochure = document.getElementById('quickBrochure');

            if (quickBook) {
                quickBook.addEventListener('click', function () {
                    startBookingSystem();
                });
            }

            if (quickHelp) {
                quickHelp.addEventListener('click', function () {
                    showBookingMessage("ðŸš¨ EMERGENCY ASSISTANCE\n\nâ€¢ Call: 1800-VECTORS-1 (24/7)\nâ€¢ WhatsApp: +91 98765 43210\nâ€¢ Free pickup within 50km\n\nWe'll dispatch a technician immediately!", "bot");
                });
            }

            if (quickBrochure) {
                quickBrochure.addEventListener('click', function () {
                    if (typeof generatePDFBrochure === 'function') {
                        generatePDFBrochure();
                    }
                });
            }

            // Set up PDF buttons
            const downloadPDF = document.getElementById('downloadPDF');

            if (downloadPDF) {
                downloadPDF.addEventListener('click', function () {
                    if (typeof window.generatePDFReport === 'function') {
                        window.generatePDFReport();
                    }
                });
            }
        }

        // Helper functions for chatbot
        function showBookingMessage(text, sender) {
            const messages = document.getElementById('bookingMessages');
            if (!messages) return;

            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;

            const avatar = document.createElement('div');
            avatar.className = 'avatar';
            avatar.innerHTML = `<i class="fas fa-${sender === 'bot' ? 'robot' : 'user'}"></i>`;

            const bubble = document.createElement('div');
            bubble.className = 'bubble';

            if (text.includes('\n')) {
                const lines = text.split('\n');
                lines.forEach(line => {
                    const p = document.createElement('p');
                    p.textContent = line;
                    bubble.appendChild(p);
                });
            } else {
                bubble.innerHTML = `<p>${text}</p>`;
            }

            messageDiv.appendChild(avatar);
            messageDiv.appendChild(bubble);
            messages.appendChild(messageDiv);

            // Scroll to bottom
            setTimeout(() => {
                messages.scrollTop = messages.scrollHeight;
            }, 100);
        }

        function startBookingSystem() {
            // Clear messages
            const messages = document.getElementById('bookingMessages');
            if (messages) {
                messages.innerHTML = '';
            }

            // Show initial message
            showBookingMessage("Welcome to Vectors Motors ATV Service!", "bot");
            showBookingMessage("I'll help you book a service appointment. Let's get started!", "bot");

            // Reset status
            const statusName = document.getElementById('statusName');
            const statusService = document.getElementById('statusService');
            const statusDate = document.getElementById('statusDate');

            if (statusName) statusName.textContent = "Not Started";
            if (statusService) statusService.textContent = "No Service";
            if (statusDate) statusDate.textContent = "No Date";

            // Show initial options after delay
            setTimeout(() => {
                const inputArea = document.getElementById('bookingInput');
                if (inputArea) {
                    inputArea.innerHTML = `
                        <div class="button-grid">
                            <button class="chat-btn" onclick="startBookingFlow()">
                                <i class="fas fa-calendar-check"></i> Start Booking
                            </button>
                            <button class="chat-btn" onclick="openQueryForm()">
            <i class="fas fa-circle-question"></i> Send Query
        </button>
                            <button class="chat-btn" onclick="showServiceInfo()">
                                <i class="fas fa-info-circle"></i> Service Info
                            </button>
                            <button class="chat-btn" onclick="showMaintenanceTips()">
                                <i class="fas fa-tools"></i> Maintenance Tips
                            </button>
                        </div>
                    `;
                }
            }, 800);
        }

        function startBookingFlow() {
            showBookingMessage("Let's book your service!", "user");

            // Show typing indicator
            const typing = document.getElementById('bookingTyping');
            if (typing) {
                typing.classList.add('active');
            }

            setTimeout(() => {
                if (typing) {
                    typing.classList.remove('active');
                }
                showBookingMessage("Great! Let's start with your details.", "bot");

                // Show name input
                const inputArea = document.getElementById('bookingInput');
                if (inputArea) {
                    inputArea.innerHTML = `
                        <div class="input-container">
                            <div class="input-group">
                                <input type="text" id="userName" placeholder="Enter your full name" class="form-input">
                            </div>
                            <div class="button-group">
                                <button class="submit-btn" onclick="submitUserName()">
                                    <i class="fas fa-check"></i> Submit
                                </button>
                                <button class="skip-btn" onclick="startBookingSystem()">
                                    <i class="fas fa-arrow-left"></i> Back
                                </button>
                            </div>
                        </div>
                    `;
                }
            }, 1000);
        }

        function fillName(name) {
            const nameInput = document.getElementById('userName');
            if (nameInput) {
                nameInput.value = name;
            }
        }

        function submitUserName() {
            const nameInput = document.getElementById('userName');
            const name = nameInput ? nameInput.value.trim() : '';

            if (!name || name.length < 2) {
                // Show error
                const inputArea = document.getElementById('bookingInput');
                if (inputArea) {
                    const errorDiv = document.createElement('div');
                    errorDiv.className = 'error-message';
                    errorDiv.innerHTML = '<i class="fas fa-exclamation-circle"></i> Please enter a valid name (min 2 characters)';
                    inputArea.prepend(errorDiv);

                    setTimeout(() => {
                        if (errorDiv.parentNode) errorDiv.remove();
                    }, 3000);
                }
                return;
            }

            showBookingMessage(name, "user");

            // Update status
            const statusName = document.getElementById('statusName');
            if (statusName) {
                statusName.textContent = name;
            }

            // Continue to next step
            setTimeout(() => {
                showBookingMessage("What's your contact number?", "bot");

                const inputArea = document.getElementById('bookingInput');
                if (inputArea) {
                    inputArea.innerHTML = `
                        <div class="input-container">
                            <div class="input-group">
                                <input type="tel" id="userPhone" placeholder="Enter 10-digit phone number" class="form-input">
                            </div>
                            <div class="button-group">
                                <button class="submit-btn" onclick="submitUserPhone()">
                                    <i class="fas fa-check"></i> Submit
                                </button>
                                <button class="skip-btn" onclick="startBookingFlow()">
                                    <i class="fas fa-arrow-left"></i> Back
                                </button>
                            </div>
                        </div>
                    `;
                }
            }, 500);
        }

        function fillPhone(phone) {
            const phoneInput = document.getElementById('userPhone');
            if (phoneInput) {
                phoneInput.value = phone;
            }
        }

        function submitUserPhone() {
            const phoneInput = document.getElementById('userPhone');
            const phone = phoneInput ? phoneInput.value.trim() : '';

            if (!phone || !/^\d{10}$/.test(phone)) {
                // Show error
                const inputArea = document.getElementById('bookingInput');
                if (inputArea) {
                    const errorDiv = document.createElement('div');
                    errorDiv.className = 'error-message';
                    errorDiv.innerHTML = '<i class="fas fa-exclamation-circle"></i> Please enter a valid 10-digit phone number';
                    inputArea.prepend(errorDiv);

                    setTimeout(() => {
                        if (errorDiv.parentNode) errorDiv.remove();
                    }, 3000);
                }
                return;
            }

            showBookingMessage(phone, "user");

            // Continue to service selection
            setTimeout(() => {
                showBookingMessage("Select service type:", "bot");

                const inputArea = document.getElementById('bookingInput');
                if (inputArea) {
                    inputArea.innerHTML = `
                        <div class="button-grid">
                            <button class="chat-btn" onclick="selectBookingService('Regular Service')">
                                <i class="fas fa-oil-can"></i> Regular Service
                                <small>â‚¹1,500 â€¢ 2-3 hours</small>
                            </button>
                            <button class="chat-btn" onclick="selectBookingService('Full Service')">
                                <i class="fas fa-tools"></i> Full Service
                                <small>â‚¹6,000 â€¢ 5-6 hours</small>
                            </button>
                            <button class="chat-btn" onclick="selectBookingService('Brake Overhaul')">
                                <i class="fas fa-car-crash"></i> Brake Service
                                <small>â‚¹3,000 â€¢ 3-4 hours</small>
                            </button>
                            <button class="chat-btn" onclick="selectBookingService('Suspension Repair')">
                                <i class="fas fa-car"></i> Suspension
                                <small>â‚¹4,500 â€¢ 4-5 hours</small>
                            </button>
                        </div>
                    `;
                }
            }, 500);
        }

        function selectBookingService(service) {

            let price = 0;

            if (service.includes("Regular")) price = 1500;
            else if (service.includes("Full")) price = 6000;
            else if (service.includes("Brake")) price = 3000;
            else if (service.includes("Suspension")) price = 4500;

            // store globally
            window.bookingPrice = price;

            showBookingMessage(service, "user");

            document.getElementById("statusService").textContent = service;

            showBookingMessage(service, "user");

            // Update status
            const statusService = document.getElementById('statusService');
            if (statusService) {
                statusService.textContent = service;
            }

            // Continue to date selection
            setTimeout(() => {
                showBookingMessage("Select preferred date:", "bot");

                const inputArea = document.getElementById("bookingInput");
                if (!inputArea) return;

                const today = new Date();
                const dates = [];

                for (let i = 1; i <= 5; i++) {
                    const d = new Date(today);
                    d.setDate(today.getDate() + i);

                    dates.push({
                        label: d.toLocaleDateString("en-IN", {
                            weekday: "short",
                            day: "numeric",
                            month: "short"
                        }),
                        iso: d.toISOString().split("T")[0]
                    });
                }

                inputArea.innerHTML = `
        <div class="button-grid">
            ${dates.map(d => `
                <button class="chat-btn"
                    onclick="selectBookingDate('${d.label}', '${d.iso}')">
                    <i class="fas fa-calendar"></i> ${d.label}
                </button>
            `).join("")}

            <button class="chat-btn other-date-btn"
                onclick="openCalendar()">
                <i class="fas fa-ellipsis-h"></i> Other dates
            </button>

            <!-- hidden but usable date input -->
            <input type="date"
                id="hiddenDatePicker"
                min="${today.toISOString().split("T")[0]}"
                onchange="handleCustomDate(this.value)"
                style="
                    position:absolute;
                    opacity:0;
                    pointer-events:none;
                ">
        </div>
    `;
            }, 500);


        }

        function openCalendar() {
            const picker = document.getElementById("hiddenDatePicker");

            picker.style.pointerEvents = "auto";
            picker.showPicker();   // ðŸ”¥ modern browsers
            picker.style.pointerEvents = "none";
        }

        function handleCustomDate(value) {
            if (!value) return;

            const d = new Date(value);
            const label = d.toLocaleDateString("en-IN", {
                weekday: "short",
                day: "numeric",
                month: "short"
            });

            selectBookingDate(label, value);
        }



        function selectBookingDate(dateStr, isoDate) {
            showBookingMessage(dateStr, "user");

            // Update status
            const statusDate = document.getElementById('statusDate');
            if (statusDate) {
                statusDate.textContent = dateStr;
            }

            // Show confirmation
            setTimeout(() => {
                showBookingMessage("Great! Here's your booking summary:", "bot");

                const name = document.getElementById('statusName').textContent;
                const service = document.getElementById('statusService').textContent;
                const date = document.getElementById('statusDate').textContent;

                const inputArea = document.getElementById('bookingInput');
                if (inputArea) {
                    inputArea.innerHTML = `
                        <div class="confirmation-card">
                            <h3><i class="fas fa-check-circle"></i> Booking Summary</h3>
                            <div class="confirmation-details">
                                <div class="detail-row">
                                    <span class="label">Name:</span>
                                    <span class="value">${name}</span>
                                </div>
                                <div class="detail-row">
                                    <span class="label">Service:</span>
                                    <span class="value">${service}</span>
                                </div>
                                <div class="detail-row">
                                    <span class="label">Date:</span>
                                    <span class="value">${date}</span>
                                </div>
                                <div class="detail-row total">
                                    <span class="label">Total Amount:</span>
                                    <span class="value">â‚¹${service.includes('Regular') ? '1,500' : service.includes('Full') ? '6,000' : service.includes('Brake') ? '3,000' : '4,500'}</span>
                                </div>
                            </div>
                        </div>
                        <div class="button-grid">
                            <button class="submit-btn" onclick="confirmBooking()">
                                <i class="fas fa-check"></i> Confirm Booking
                            </button>
                            <button class="skip-btn" onclick="startBookingSystem()">
                                <i class="fas fa-edit"></i> Edit Details
                            </button>
                        </div>
                    `;
                }
            }, 500);
        }

        function confirmBooking() {
            saveBookingForPDF();
            showBookingMessage("âœ… Booking Confirmed!", "bot");

            const bookingId = 'VM' + Date.now().toString().slice(-6);
            showBookingMessage(`Thank you! Your booking ID: ${bookingId}\nWe'll contact you within 24 hours to confirm.`, "bot");

            // Show download option
            const inputArea = document.getElementById('bookingInput');
            if (inputArea) {
                inputArea.innerHTML = `
                    <div class="button-grid">
                        <button class="submit-btn" onclick="downloadBookingConfirmation()">
                            <i class="fas fa-download"></i> Download Summary
                        </button>
                        <button class="skip-btn" onclick="startBookingSystem()">
                            <i class="fas fa-plus"></i> New Booking
                        </button>
                    </div>
                `;
            }
            localStorage.setItem(
                "vectors-booking",
                JSON.stringify({
                    name: document.getElementById("statusName").textContent,
                    service: document.getElementById("statusService").textContent,
                    date: document.getElementById("statusDate").textContent,
                    price: window.bookingPrice
                })
            );

        }

        function downloadBookingConfirmation() {
            const pdfContent = document.getElementById('pdfContent');
            const pdfModal = document.getElementById('pdfModal');

            const name = document.getElementById('statusName').textContent;
            const service = document.getElementById('statusService').textContent;
            const date = document.getElementById('statusDate').textContent;

            pdfContent.innerHTML = `
                <div style="padding:20px;font-family:'Open Sans',sans-serif;">
                    <h2 style="color:var(--primary-color);text-align:center;margin-bottom:20px;">VECTORS MOTORS</h2>
                    <h3 style="color:#666;text-align:center;margin-bottom:30px;">Service Booking Confirmation</h3>
                    
                    <div style="background:#f8f9fa;padding:20px;border-radius:8px;margin-bottom:20px;">
                        <h4 style="color:var(--primary-color);margin-bottom:15px;">Booking Details</h4>
                        <table style="width:100%;border-collapse:collapse;">
                            <tr>
                                <td style="padding:8px 0;border-bottom:1px solid #ddd;"><strong>Booking ID:</strong></td>
                                <td style="padding:8px 0;border-bottom:1px solid #ddd;text-align:right;">VM${Date.now().toString().slice(-8)}</td>
                            </tr>
                            <tr>
                                <td style="padding:8px 0;border-bottom:1px solid #ddd;"><strong>Customer:</strong></td>
                                <td style="padding:8px 0;border-bottom:1px solid #ddd;text-align:right;">${name}</td>
                            </tr>
                            <tr>
                                <td style="padding:8px 0;border-bottom:1px solid #ddd;"><strong>Service:</strong></td>
                                <td style="padding:8px 0;border-bottom:1px solid #ddd;text-align:right;">${service}</td>
                            </tr>
                            <tr>
                                <td style="padding:8px 0;border-bottom:1px solid #ddd;"><strong>Date:</strong></td>
                                <td style="padding:8px 0;border-bottom:1px solid #ddd;text-align:right;">${date}</td>
                            </tr>
                        </table>
                    </div>
                    
                    <div style="background:#fff5f0;padding:20px;border-radius:8px;margin-bottom:20px;">
                        <h4 style="color:#ff6b35;margin-bottom:15px;">Cost Breakdown</h4>
                        <table style="width:100%;border-collapse:collapse;">
                            <tr>
                                <td style="padding:10px 0;border-bottom:1px solid #ddd;">Service Charge</td>
                                <td style="padding:10px 0;border-bottom:1px solid #ddd;text-align:right;">â‚¹${service.includes('Regular') ? '1,500' : service.includes('Full') ? '6,000' : service.includes('Brake') ? '3,000' : '4,500'}</td>
                            </tr>
                            <tr style="background:#ff6b35;color:white;font-weight:bold;">
                                <td style="padding:15px 0;">TOTAL AMOUNT</td>
                                <td style="padding:15px 0;text-align:right;">â‚¹${service.includes('Regular') ? '1,500' : service.includes('Full') ? '6,000' : service.includes('Brake') ? '3,000' : '4,500'}</td>
                            </tr>
                        </table>
                    </div>
                    
                    <div style="text-align:center;color:#666;font-size:14px;margin-top:30px;">
                        <p>Thank you for choosing Vectors Motors!</p>
                        <p><strong>Service Center:</strong> DYPCET, Vectors Motors & Co, Kolhapur - 416002</p>
                        <p><strong>Contact:</strong> 1800-VECTORS-1</p>
                    </div>
                </div>
            `;

            pdfModal.classList.add('active');
        }

        function showServiceInfo() {
            showBookingMessage("Our service packages:", "bot");

            const inputArea = document.getElementById('bookingInput');
            if (inputArea) {
                inputArea.innerHTML = `
                    <div class="confirmation-card">
                        <h3><i class="fas fa-info-circle"></i> Service Information</h3>
                        <div class="confirmation-details">
                            <div class="detail-row">
                                <span class="label">Regular Service:</span>
                                <span class="value">â‚¹1,500 â€¢ 2-3 hours</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Full Service:</span>
                                <span class="value">â‚¹6,000 â€¢ 5-6 hours</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Brake Overhaul:</span>
                                <span class="value">â‚¹3,000 â€¢ 3-4 hours</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Suspension Repair:</span>
                                <span class="value">â‚¹4,500 â€¢ 4-5 hours</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Emergency Service:</span>
                                <span class="value">â‚¹2,000 + parts</span>
                            </div>
                        </div>
                    </div>
                    <div class="button-grid">
                        <button class="submit-btn" onclick="startBookingFlow()">
                            <i class="fas fa-calendar-check"></i> Book Service
                        </button>
                        <button class="skip-btn" onclick="startBookingSystem()">
                            <i class="fas fa-arrow-left"></i> Back
                        </button>
                    </div>
                `;
            }
        }

        function showMaintenanceTips() {
            showBookingMessage("ATV Maintenance Tips:", "bot");

            const inputArea = document.getElementById('bookingInput');
            if (inputArea) {
                inputArea.innerHTML = `
                    <div class="confirmation-card">
                        <h3><i class="fas fa-tools"></i> Maintenance Schedule</h3>
                        <div class="confirmation-details">
                            <div class="detail-row">
                                <span class="label">Oil Change:</span>
                                <span class="value">Every 50 hours or 6 months</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Air Filter:</span>
                                <span class="value">Every 100 hours</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Spark Plugs:</span>
                                <span class="value">Every 200 hours</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Brake Fluid:</span>
                                <span class="value">Annually</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Coolant:</span>
                                <span class="value">Every 2 years</span>
                            </div>
                        </div>
                    </div>
                    <div class="button-grid">
                        <button class="submit-btn" onclick="startBookingFlow()">
                            <i class="fas fa-calendar-check"></i> Schedule Maintenance
                        </button>
                        <button class="skip-btn" onclick="startBookingSystem()">
                            <i class="fas fa-arrow-left"></i> Back
                        </button>
                    </div>
                `;
            }
        }

        window.showBookingMessage = showBookingMessage;
        window.startBookingSystem = startBookingSystem;
    </script>
</body>

</html>